<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Function Calling &#8212; CLPy 0.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=27fed22d" />
    <script src="../_static/documentation_options.js?v=d45e8c67"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Mechanism" href="mechanism.html" />
    <link rel="prev" title="Attribute Access (@)" href="attribute-access.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="function-calling">
<h1>Function Calling<a class="headerlink" href="#function-calling" title="Link to this heading">¶</a></h1>
<p>CLthon provide two macro’s to call the functions: <code class="xref cl cl-macro docutils literal notranslate"><span class="pre">call</span></code> and
<code class="xref cl cl-macro docutils literal notranslate"><span class="pre">ncall</span></code>. The former will call the function and return the result
as PyObject. The latter is similar to the former except that the returned value
if discarded after called. It is suitable to call function where the returned
value is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>The syntax is as follows:</p>
<div class="highlight-common-lisp notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="nv">call</span><span class="w">  </span><span class="nv">obj</span><span class="w"> </span><span class="nv">[arg-list</span><span class="w"> </span><span class="nv">kwarg-dict]</span><span class="p">)</span>
<span class="p">(</span><span class="nv">ncall</span><span class="w"> </span><span class="nv">obj</span><span class="w"> </span><span class="nv">[arg-list</span><span class="w"> </span><span class="nv">kwarg-dict]</span><span class="p">)</span>
</pre></div>
</div>
<p>Similar to <code class="xref cl cl-macro docutils literal notranslate"><span class="pre">&#64;</span></code>, the first argument can be an atom which indicates an
global registered object; or a variable. <code class="docutils literal notranslate"><span class="pre">arg-list</span></code> is for positional
arguments and <code class="docutils literal notranslate"><span class="pre">kwarg-dict</span></code> is for keyword argument. For example,</p>
<div class="highlight-common-lisp notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="nv">ncall</span><span class="w"> </span><span class="nv">f</span><span class="p">)</span>
<span class="c1">;; equivalent to `f()`</span>
<span class="p">(</span><span class="nv">ncall</span><span class="w"> </span><span class="nv">f</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span>
<span class="c1">;; equivalent to `f(1, 2)`</span>
<span class="p">(</span><span class="nv">ncall</span><span class="w"> </span><span class="nv">f</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nv">|c|</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="mi">20</span><span class="p">))</span>
<span class="c1">;; equivalent to `f(1, c=20)`</span>
</pre></div>
</div>
<p>You can combine with <code class="xref cl cl-macro docutils literal notranslate"><span class="pre">&#64;</span></code> to call the method object easily.</p>
<div class="highlight-common-lisp notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="nv">ncall</span><span class="w"> </span><span class="p">(</span><span class="nv">@</span><span class="w"> </span><span class="ss">&#39;plt</span><span class="w"> </span><span class="nv">|plot|</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nv">x</span><span class="w"> </span><span class="nv">y</span><span class="p">)</span><span class="w"> </span><span class="p">((</span><span class="nv">|linestyle|</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="s">&quot;--&quot;</span><span class="p">)</span>
<span class="w">                              </span><span class="p">(</span><span class="nv">|linecolor|</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="s">&quot;red&quot;</span><span class="p">)))</span>
<span class="p">(</span><span class="nv">ncall</span><span class="w"> </span><span class="p">(</span><span class="nv">@</span><span class="w"> </span><span class="ss">&#39;plt</span><span class="w"> </span><span class="nv">|xlabel|</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;X axis&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>if <code class="docutils literal notranslate"><span class="pre">obj</span></code> is not a variable, the <code class="docutils literal notranslate"><span class="pre">obj</span></code> will be automatically dereferenced
after the call. So the object created inside <code class="xref cl cl-macro docutils literal notranslate"><span class="pre">call</span></code> and
<code class="xref cl cl-macro docutils literal notranslate"><span class="pre">ncall</span></code> (not variable, i.e., single atom) doesn’t need to be
dereferenced automatically.</p>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">CLPy</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../clpy/index.html">CLPy Documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">The CLthon Language</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="getting-started.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="import-modules.html">Import Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="attribute-access.html">Attribute Access (<code class="docutils literal notranslate"><span class="pre">&#64;</span></code>)</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Function Calling</a></li>
<li class="toctree-l2"><a class="reference internal" href="mechanism.html">Mechanism</a></li>
<li class="toctree-l2"><a class="reference internal" href="caveats.html">Caveats</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../references/clpy/index.html">CLPy Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references/clthon/clthon.html">CLTHON</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">The CLthon Language</a><ul>
      <li>Previous: <a href="attribute-access.html" title="previous chapter">Attribute Access (<code class="docutils literal notranslate"><span class="pre">&#64;</span></code>)</a></li>
      <li>Next: <a href="mechanism.html" title="next chapter">Mechanism</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, Yiran Lu.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.3.0</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../_sources/clthon/function-calling.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>